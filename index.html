<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Millets Enterprise - Customer</title>

<style>
body{
    margin:0;
    font-family:Arial;
    background:#f5f5f5;
}

/* LOGIN PAGE */
#loginPage{
    display:flex;
    height:100vh;
    justify-content:center;
    align-items:center;
    background:#2e7d32;
}
.login-box{
    background:white;
    padding:30px;
    width:320px;
    border-radius:8px;
    text-align:center;
}
.login-box input{
    width:95%;
    padding:8px;
    margin:8px 0;
}
.login-box button{
    background:#2e7d32;
    color:white;
    border:none;
    padding:10px;
    width:100%;
    cursor:pointer;
    border-radius:5px;
}

/* MAIN APP */
#mainApp{
    display:none;
}

/* NAVBAR */
nav{
    background:#2e7d32;
    padding:12px 30px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.logo{
    display:flex;
    align-items:center;
}
.logo img{
    width:50px;
    height:50px;
    margin-right:10px;
}
.logo h2{
    color:white;
    margin:0;
}
nav a{
    color:white;
    text-decoration:none;
    margin:0 15px;
    font-weight:bold;
    cursor:pointer;
}

/* SECTIONS */
.section{
    display:none;
    padding:40px;
    text-align:center;
}
.active{
    display:block;
}

.banner{
    width:100%;
    height:350px;
    object-fit:cover;
    border-radius:10px;
    margin-bottom:20px;
}

.products{
    display:flex;
    justify-content:center;
}
.card{
    background:white;
    width:320px;
    padding:20px;
    border-radius:8px;
    box-shadow:0 0 10px rgba(0,0,0,0.1);
}
.card img{
    width:100%;
    height:170px;
    object-fit:cover;
}

button{
    background:#2e7d32;
    color:white;
    border:none;
    padding:10px;
    margin-top:10px;
    cursor:pointer;
    border-radius:5px;
}

input, select, textarea{
    width:95%;
    padding:8px;
    margin:6px 0;
}

#orderForm{
    display:none;
    margin-top:15px;
}

.priceBox{
    font-weight:bold;
    color:#1b5e20;
    margin-top:10px;
}

/* TRACKING UI */
.track-card{
    background:white;
    width:80%;
    margin:20px auto;
    padding:20px;
    border-radius:10px;
    box-shadow:0 0 10px rgba(0,0,0,0.1);
    text-align:left;
}

/* Timeline */
.timeline{
    position:relative;
    margin-top:30px;
    display:flex;
    justify-content:space-between;
}

.timeline::before{
    content:"";
    position:absolute;
    top:15px;
    left:0;
    width:100%;
    height:4px;
    background:#ddd;
    z-index:0;
}

.progress-line{
    position:absolute;
    top:15px;
    left:0;
    height:4px;
    background:#2e7d32;
    z-index:1;
    transition:0.5s;
}

.step{
    position:relative;
    text-align:center;
    z-index:2;
    flex:1;
}

.circle{
    width:30px;
    height:30px;
    border-radius:50%;
    background:#ccc;
    margin:auto;
    line-height:30px;
    color:white;
    font-weight:bold;
}

.active-step{
    background:#2e7d32 !important;
}

footer{
    background:#222;
    color:white;
    padding:25px;
    text-align:center;
}
.whatsapp-btn{
    display:inline-block;
    background:#25D366;
    color:white;
    padding:10px 15px;
    border-radius:30px;
    font-weight:bold;
}
</style>
</head>

<body>

<div id="loginPage">
<div class="login-box">
<h2>Customer Login</h2>
<input type="text" id="loginName" placeholder="Full Name" required>
<input type="tel" id="loginPhone" placeholder="Phone Number" required>
<button onclick="registerLogin()">Login / Register</button>
</div>
</div>

<div id="mainApp">

<nav>
<div class="logo">
<img src="logo.PNG">
<h2>Millets Enterprise</h2>
</div>

<div>
<a onclick="showSection('home')">Home</a>
<a onclick="showSection('products')">Products</a>
<a onclick="showSection('track')">Track Orders</a>
<a onclick="showSection('about')">About</a>
<a onclick="showSection('contact')">Contact</a>
<a onclick="logout()">Logout</a>
</div>
</nav>

<div id="home" class="section active">
<img src="Banner.png" class="banner">
<h2>Welcome to Millets Enterprise</h2>
<p>Healthy Traditional Millets for Modern Life</p>
</div>

<div id="products" class="section">
<h2>Our Products</h2>
<div class="products">
<div class="card">
<img src="millet.jpg">
<h3>Mixed Millets</h3>
<p>₹179 per KG</p>
<button onclick="showForm()">Buy Now</button>

<div id="orderForm">
<form onsubmit="placeOrder(event)">
<select id="kg" onchange="calculatePrice()" required>
<option value="">Select KG</option>
<option value="1">1 KG</option>
<option value="2">2 KG</option>
<option value="3">3 KG</option>
<option value="4">4 KG</option>
<option value="5">5 KG</option>
<option value="6">6 KG</option>
<option value="7">7 KG</option>
</select>

<div class="priceBox">
Total: ₹<span id="totalPrice">0</span>
</div>

<input type="text" id="name" placeholder="Full Name" required>
<input type="tel" id="phone" placeholder="Phone Number" required>
<input type="text" id="city" placeholder="City" required>

<select id="state" required>
<option value="">Select State</option>
<option>Andhra Pradesh</option>
<option>Telangana</option>
<option>Tamil Nadu</option>
<option>Karnataka</option>
<option>Maharashtra</option>
</select>

<textarea id="address" placeholder="Full Address" required></textarea>
<input type="number" id="pincode" placeholder="Pin Code" required>

<button type="submit">Order Placed</button>
</form>
</div>
</div>
</div>
</div>

<div id="track" class="section">
<h2>My Orders</h2>
<div id="trackContainer"></div>
</div>

<div id="about" class="section">
<h2>About Us</h2>
<p>We provide quality millets directly from farmers to customers.</p>
</div>

<div id="contact" class="section">
<h2>Contact Us</h2>
<p>Email: geethasomasekhar27@gmail.com</p>
<p>Phone: +91 9059252124</p>
</div>

<footer>
<p>© 2026 Millets Enterprise. All Rights Reserved.</p>
<a href="#" class="whatsapp-btn">Join WhatsApp Group</a>
</footer>

</div>

<script>

const pricePerKg=179;

window.onload=function(){
let user=localStorage.getItem("customer");
if(user){
document.getElementById("loginPage").style.display="none";
document.getElementById("mainApp").style.display="block";
}
}

function registerLogin(){
let name=document.getElementById("loginName").value;
let phone=document.getElementById("loginPhone").value;
if(name==""||phone==""){alert("Enter details");return;}
localStorage.setItem("customer",JSON.stringify({name,phone}));
location.reload();
}

function logout(){
localStorage.removeItem("customer");
location.reload();
}

function showSection(id){
let sections=document.querySelectorAll('.section');
sections.forEach(sec=>sec.classList.remove('active'));
document.getElementById(id).classList.add('active');
if(id==="track"){loadTracking();}
}

function showForm(){
document.getElementById("orderForm").style.display="block";
}

function calculatePrice(){
let kg=document.getElementById("kg").value;
document.getElementById("totalPrice").innerText=kg*pricePerKg;
}

function placeOrder(e){
e.preventDefault();
let kg=document.getElementById("kg").value;
let total=kg*pricePerKg;

let order={
kg,totalPrice:total,
name:document.getElementById("name").value,
phone:document.getElementById("phone").value,
city:document.getElementById("city").value,
state:document.getElementById("state").value,
address:document.getElementById("address").value,
pincode:document.getElementById("pincode").value,
product:"Mixed Millets",
status:"Pending"
};

let orders=JSON.parse(localStorage.getItem("orders"))||[];
orders.push(order);
localStorage.setItem("orders",JSON.stringify(orders));

alert("Order Placed Successfully!");
document.querySelector("form").reset();
document.getElementById("totalPrice").innerText="0";
document.getElementById("orderForm").style.display="none";
}

/* ONLY DISPLAY DELIVERY DATE HERE */
function loadTracking(){
let customer=JSON.parse(localStorage.getItem("customer"));
let orders=JSON.parse(localStorage.getItem("orders"))||[];
let myOrders=orders.filter(o=>o.phone===customer.phone);
let container=document.getElementById("trackContainer");
container.innerHTML="";

if(myOrders.length===0){
container.innerHTML="<p>No Orders Found</p>";
return;
}

myOrders.forEach(order=>{
let steps=["Pending","Accepted","Shipped","Delivered"];
let activeIndex=steps.indexOf(order.status||"Pending");
let progressWidth=(activeIndex/(steps.length-1))*100;

container.innerHTML+=`
<div class="track-card">
<h3>${order.product}</h3>
<p><b>Quantity:</b> ${order.kg} KG</p>
<p><b>Total:</b> ₹${order.totalPrice}</p>
<p><b>Status:</b> ${order.status||"Pending"}</p>

${order.deliveryDate ? `<p><b>Delivery Date:</b> ${order.deliveryDate}</p>` : ""}

<p><b>Address:</b> ${order.address}, ${order.city}, ${order.state} - ${order.pincode}</p>

<div class="timeline">
<div class="progress-line" style="width:${progressWidth}%"></div>
${steps.map((step,i)=>`
<div class="step">
<div class="circle ${i<=activeIndex?'active-step':''}">${i+1}</div>
<small>${step}</small>
</div>
`).join("")}
</div>
</div>
`;
});
}

</script>

</body>

</html>
